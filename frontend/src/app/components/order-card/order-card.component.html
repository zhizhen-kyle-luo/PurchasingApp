<div class="bg-white border rounded-lg p-4 hover:bg-gray-50 cursor-pointer shadow-sm hover:shadow-md transition-all" (click)="showOrderDetails()">
  <div class="flex justify-between items-start mb-3">
    <div>
      <h3 class="font-semibold text-lg">{{ order.item_name }}</h3>
      <p class="text-gray-500 text-sm">{{ order.purchase_date | date:'yyyy-MM-dd' }}</p>
    </div>
    <div class="flex flex-col items-end space-y-1">
      <!-- Status Label -->
      <div class="flex flex-wrap gap-2 justify-end">
        <span *ngIf="order.status === 'Arrived'" class="px-2 py-1 rounded-full text-sm bg-blue-100 text-blue-800 border border-blue-200">Arrived</span>
        <span *ngIf="order.status === 'Shipped'" class="px-2 py-1 rounded-full text-sm bg-purple-100 text-purple-800 border border-purple-200">Shipped</span>
        <span *ngIf="order.status === 'Purchased'" class="px-2 py-1 rounded-full text-sm bg-green-100 text-green-800 border border-green-200">Purchased</span>
        <span *ngIf="order.approval_status === 'Fully Approved'" class="px-2 py-1 rounded-full text-sm bg-green-100 text-green-800 border border-green-200">Fully Approved</span>
        <span *ngIf="order.approval_status === 'Pending Executive Approval'" class="px-2 py-1 rounded-full text-sm bg-yellow-100 text-yellow-800 border border-yellow-200">Pending Executive Approval</span>
        <span *ngIf="order.approval_status === 'Pending Sublead Approval'" class="px-2 py-1 rounded-full text-sm bg-yellow-100 text-yellow-800 border border-yellow-200">Pending Sublead Approval</span>

        <!-- Urgency Label -->
        <span class="px-2 py-1 rounded-full text-sm border" [ngClass]="{
          'bg-red-500 text-white border-red-600': order.urgency === 'Both' || order.urgency === 'Urgent',
          'bg-yellow-100 text-yellow-800 border-yellow-200': order.urgency === 'Special/Large',
          'bg-green-100 text-green-800 border-green-200': order.urgency !== 'Both' && order.urgency !== 'Urgent' && order.urgency !== 'Special/Large'
        }">
          {{ order.urgency }}
        </span>

        <!-- Only show deleted label if the order is deleted AND not arrived -->
        <span *ngIf="order.is_deleted && order.status !== 'Arrived'" class="px-2 py-1 rounded-full text-sm bg-red-100 text-red-800 border border-red-200">Deleted</span>
      </div>
    </div>
  </div>
  <div class="space-y-2">
    <p class="text-gray-600">Vendor: {{ order.vendor_name }}</p>
    <p class="text-gray-600">Requester: {{ order.requester_name }}</p>
    <p class="text-gray-600">Total: {{ order.price + order.shipping_cost | currency }}</p>
    <p class="text-gray-600">Subteam: {{ order.subteam }}</p>
  </div>
</div>
